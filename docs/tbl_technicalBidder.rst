.. _tbl_technicalBidder:

===================
tbl_technicalBidder
===================

************************
Суть аналітичної таблиці
************************

Дана аналітична таблиця відображає відсоток програних процедур окремим Учасником у окремого Замовника.

*************************
Форма аналітичної таблиці
*************************

Аналітична таблиця містить наступну інформацію:

- Ідентифікатор замовника

- Ідентифікатор учасника

- Відсоток програвань учасника в процедурах замовника

Приклад того, як може виглядати аналітична таблиця:

========== ========= ================
Замовник   Учасник   Відсоток перемог
---------- --------- ----------------
Замовник 1 Учасник 1         %
Замовник 1 Учасник 2         %
Замовник 1 Учасник 3         %
Замовник 2 Учасник 4         %
Замовник 2 Учасник 5         %
...        ...        ...
========== ========= ================

******************************
Розрахунок аналітичної таблиці
******************************

Джерела даних для розрахунку
============================

Для розрахунку аналітичної таблиці вікористовуються наступні джерела даних:

- API модуля тендеринга електронної системи закупівель


Частота розрахунку
==================

Аналітична таблиця розраховується раз на добу.

Поля для розрахунку
===================

Для розрахунку використовуються наступні поля з API модуля тендеринга:

- ``data.procuringEntity.identifier.id``

- ``data.procuringEntity.identifier.scheme``

- ``data.awards.status``

- ``data.awards.suppliers.identifier.id``

- ``data.awards.suppliers.identifier.scheme``

- ``data.bids.status``

- ``data.bids.tenderers.identifier.id``

- ``data.bids.tenderers.identifier.scheme``

- ``data.procurementMethodType``

- ``data.status``


Формула розрахунку
==================

1. Перед розрахунком аналітична таблиця очищується.

2. До уваги беруться усі процедури, у яких ``data.procurementMethodType`` мають бути ``aboveThresholdUA``, ``aboveThresholdUA``. Процедури повинні бути завершені, тобто ``data.status = 'complete'``

3. Для кожної процедури визначаємо її Замовника (конкатенація ``data.procuringEntity.identifier.id`` та ``data.procuringEntity.identifier.scheme``).
   Визначаємо усіх переможців процедури (конкатенація ``data.awards.suppliers.identifier.id`` та ``data.awards.suppliers.identifier.scheme``) з об'єктів визначення переможців, для яких ``data.awards.status = 'active'``.
   Визначаємо усіх учасників процедури (конкатенація ``data.bids.tenderers.identifier.id`` та ``data.bids.tenderers.identifier.scheme``) з об'єктів тендерних пропозицій, для яких ``data.bids.status = 'active'``

4. Для кожної пари Замовник-Учасник знаходимо кількість перемог Учасника у процедурах Замовника та кількість участей Учасника в процедурах Замовника. До розгляду приймаємо лише ті пари, де кількість участей більша за 3.
   Відсоток перемог від участей записуємо в таблицу для пари Замовник-Учасник.

