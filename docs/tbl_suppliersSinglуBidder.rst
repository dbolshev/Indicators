.. _tbl_suppliersSinglуBidder:

=========================
tbl_suppliersSingleBidder
=========================

************************
Суть аналітичної таблиці
************************

Дана аналітична таблиця відображає для кожного замовника *постійних* учасників, які брали участь тільки у процедурах даного замовника. Під постійним учасником мається на увазі такий учасник, що ніколи не брав участі у процедурах ішних учасників, але більше ніж 3 рази приймав участь у процедурах одного замовника.

*************************
Форма аналітичної таблиці
*************************

Аналітична таблиця містить наступну інформацію:

- Ідентифікатор замовника

- Ідентифікатор постійного учасника, що працює тільки з цим замовником

Приклад того, як може виглядати аналітична таблиця:

============== ==========
Постачальник   Замовник
-------------- ----------
Постачальник 1 Замовник 1
Постачальник 1 Замовник 2
Постачальник 1 Замовник 3
Постачальник 2 Замовник 1
Постачальник 2 Замовник 2
...            ...
============== ==========

******************************
Розрахунок аналітичної таблиці
******************************

Джерела даних для розрахунку
============================

Для розрахунку аналітичної таблиці вікористовуються наступні джерела даних:

- API модуля тендеринга електронної системи закупівель

Частота розрахунку
==================

Аналітична таблиця розраховується раз на добу.

Поля для розрахунку
===================

Для розрахунку використовуються наступні поля з API модуля тендеринга:

- ``data.bids.tenderers.identifier.id``

- ``data.procuringEntity.identifier.id``

- ``data.procurementMethodType``

- ``data.status``

Формула розрахунку
==================

1. Перед розрахунком аналітична таблиця очищується.

2. До уваги беруться усі процедури, у яких ``data.procurementMethodType`` мають бути ``belowThreshold``, ``aboveThresholdUA`` або ``aboveThresholdEU``. Процедури повинні бути завершені, тобто ``data.status = 'complete'``

3. Для кожного учасника (``data.bids.tenderers.identifier.id``) вираховується кількість участей у процедурах (``data.bids.status = 'active'``).

4. До уваги беруться учасники, які брали участь у 3 та більше процедурах.

5. Для кожного учасника знаходимо унікальних замовників (``data.procuringEntity.identifier.id``), у процедурах яких цей учасник брав участь.

6. Для кожного унікального замовника робимо рядок у таблиці: ``data.bids.tenderers.identifier.id`` та ``data.procuringEntity.identifier.id``.

